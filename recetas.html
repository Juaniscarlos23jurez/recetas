<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registro de Recetas</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="manifest" href="manifest.json">
</head>
<body>
  <div class="container mt-5 p-4" style="background-color: #fdfdfd; border-radius: 10px; box-shadow: 0px 4px 8px rgba(0,0,0,0.1);">
    <h2 class="text-center mb-4" style="color: #333; font-weight: bold;">游닀 Registro de Recetas</h2>
    <form id="formRegistroReceta">
      <div class="form-group">
        <label for="nombreReceta" style="font-weight: 600;">Nombre de la receta:</label>
        <input
          type="text"
          class="form-control"
          id="nombreReceta"
          name="nombreReceta"
          placeholder="Ejemplo: Pastel de chocolate"
          required
          style="border-radius: 5px;"
        >
      </div>
      <div class="form-group mt-3">
        <label for="ingredientes" style="font-weight: 600;">Ingredientes:</label>
        <textarea
          class="form-control"
          id="ingredientes"
          name="ingredientes"
          rows="3"
          placeholder="Lista de ingredientes separados por comas"
          required
          style="border-radius: 5px;"
        ></textarea>
      </div>
      <div class="form-group mt-3">
        <label for="preparacion" style="font-weight: 600;">Preparaci칩n:</label>
        <textarea
          class="form-control"
          id="preparacion"
          name="preparacion"
          rows="4"
          placeholder="Describe los pasos para preparar la receta"
          required
          style="border-radius: 5px;"
        ></textarea>
      </div>
      <div class="form-group mt-3">
        <label for="tiempoPreparacion" style="font-weight: 600;">Tiempo de preparaci칩n (minutos):</label>
        <input
          type="number"
          class="form-control"
          id="tiempoPreparacion"
          name="tiempoPreparacion"
          placeholder="Ejemplo: 30"
          min="1"
          required
          style="border-radius: 5px;"
        >
      </div>
      <div class="form-group mt-3">
        <label for="categoria" style="font-weight: 600;">Categor칤a:</label>
        <select class="form-control" id="categoria" name="categoria" required style="border-radius: 5px;">
          <option value="" disabled selected>Selecciona una categor칤a</option>
          <option value="Postre">Postre</option>
          <option value="Entrada">Entrada</option>
          <option value="Plato Fuerte">Plato Fuerte</option>
          <option value="Bebida">Bebida</option>
        </select>
      </div>
      <div class="form-group mt-3">
        <label for="dificultad" style="font-weight: 600;">Dificultad:</label>
        <select class="form-control" id="dificultad" name="dificultad" required style="border-radius: 5px;">
          <option value="" disabled selected>Selecciona la dificultad</option>
          <option value="F치cil">F치cil</option>
          <option value="Intermedia">Intermedia</option>
          <option value="Dif칤cil">Dif칤cil</option>
        </select>
      </div>
      <button type="submit" class="btn btn-primary btn-block mt-4" style="background-color: #5cb85c; border-color: #5cb85c; font-size: 18px; font-weight: bold;">
        Registrar Receta
      </button>
    </form>
    <h3 class="text-center mt-5 mb-4" style="color: #555; font-weight: bold;">游늶 Lista de Recetas Registradas</h3>
    <table class="table table-striped mt-3" id="listaRecetas" style="background-color: #fff; border-radius: 10px; overflow: hidden;">
      <thead style="background-color: #5cb85c; color: #fff;">
        <tr>
          <th>#</th>
          <th>Nombre</th>
          <th>Ingredientes</th>
          <th>Preparaci칩n</th>
          <th>Tiempo (min)</th>
          <th>Categor칤a</th>
          <th>Dificultad</th>
        </tr>
      </thead>
      <tbody>
        <!-- Aqu칤 se agregar치n las recetas din치micamente -->
      </tbody>
    </table>
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

  <script>
    // Configuraci칩n de Firebase
  // Configuraci칩n de Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyAwDrPiehFMHQ9yYKRcKkWor02EijUp5gI",
      authDomain: "sisye-50760.firebaseapp.com",
      databaseURL: "https://sisye-50760-default-rtdb.firebaseio.com",
      projectId: "sisye-50760",
      storageBucket: "sisye-50760.appspot.com",
      messagingSenderId: "654720267764",
      appId: "1:654720267764:web:4d9f302012a49dcc3bf5a1",
      measurementId: "G-6RCT8Z9FTZ"
    };
 
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();
    const recetasRef = database.ref("/recetas");

    const form = document.getElementById('formRegistroReceta');
    const listaRecetasElement = document.getElementById('listaRecetas');
    const listaRecetas = listaRecetasElement.querySelector('tbody');

    const actualizarTabla = (recetas) => {
      listaRecetas.innerHTML = '';
      recetas.forEach((receta, index) => {
        const fila = document.createElement('tr');
        fila.innerHTML = `
          <td>${index + 1}</td>
          <td>${receta.nombre}</td>
          <td>${receta.ingredientes}</td>
          <td>${receta.preparacion}</td>
          <td>${receta.tiempoPreparacion}</td>
          <td>${receta.categoria}</td>
          <td>${receta.dificultad}</td>
        `;
        listaRecetas.appendChild(fila);
      });
    };

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const nuevaReceta = {
        nombre: document.getElementById('nombreReceta').value,
        ingredientes: document.getElementById('ingredientes').value,
        preparacion: document.getElementById('preparacion').value,
        tiempoPreparacion: document.getElementById('tiempoPreparacion').value,
        categoria: document.getElementById('categoria').value,
        dificultad: document.getElementById('dificultad').value,
      };
      recetasRef.push(nuevaReceta);
      form.reset();
    });

    recetasRef.on('value', (snapshot) => {
      const recetas = snapshot.val() ? Object.values(snapshot.val()) : [];
      actualizarTabla(recetas);
    });
  </script>
</body>
</html>

    
